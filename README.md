# گزارش آزمایش سوم مهندسی نرم‌افزار: توسعه مبتنی بر آزمون (TDD)

این پروژه پیاده‌سازی یک سبد خرید ساده است که با رویکرد توسعه مبتنی بر آزمون توسعه و دیباگ شده است. در ادامه پاسخ پرسش‌های مطرح شده در دستور کار آزمایش آورده شده است.

---

## بخش اول: کشف خطا 

### ۱. چه خطایی وجود دارد و چرا دیده نشده است؟
در متد `getTotalWithDiscount` شرط اعمال تخفیف به صورت `total >= 100` پیاده‌سازی شده بود، در حالی که نیازمندی‌ها صراحتاً بیان کرده‌اند تخفیف فقط برای مبالغ **بیشتر از ۱۰۰** است (نه برابر).
این خطا دیده نشده بود چون تست‌های قبلی فقط مقادیر کمتر از ۱۰۰ (مثلاً ۹۰) و مقادیر خیلی بیشتر (مثلاً ۱۵۰) را بررسی می‌کردند و مقدار مرزی دقیق (۱۰۰) که نقطه شکست بود، تست نشده بود.

### ۲. نحوه نوشتن آزمون و اصلاح خطا

برای رفع این مشکل، آزمون `testCalculateDiscountedTotal_ExactOneHundred` به فایل تست‌ها اضافه شد. ابتدا این آزمون `Failed` شد (چون تخفیف به اشتباه روی عدد ۱۰۰ اعمال می‌شد). سپس شرط در کلاس `ShoppingCart` در `getTotalWithDiscount` از `=<` به `<` تغییر یافت. پس از اصلاح، آزمون با موفقیت `Passed`شد. همچنین نیاز است پس از اصلاح testDiscountAtBoundary_WRONG کامنت شود زیرا این تست برای تشخیص جواب غلط بود و الان با تصحیح کد دیگر جواب غلط نمی دهد.

### ۳. مشکلات نوشتن تست پس از کدنویسی .
*   **داشتن بایاس** : برنامه‌نویس معمولا(عمدتا ناخودآکاهانه) تست‌ها را جوری می‌نویسد که کد فعلی‌اش تایید شود، نه اینکه باگ‌ها پیدا شوند.
*   **طراحی تست‌ناپذیر:** کدی که بدون تست نوشته شود ممکن است وابستگی‌های پیچیده ای داشته باشد که نوشتن تست برای آن را سخت کند
*  **مهندسی بیش از حد** : بدون وجود تستی که هدف را دقیق مشخص کند، برنامه‌نویس ممکن است کدهای اضافی یا پیچیدگی‌های غیرضروری به برنامه اضافه کند که در عمل به آن‌ها نیازی نیست.
